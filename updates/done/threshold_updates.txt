# Threshold Configuration System Redesign

## Objective
Replace hardcoded THRESHOLDS with a parameterized calculation system to make threshold configuration more intuitive and simulation-friendly.

## Current System (to be replaced)
Each scoring type has 4 hardcoded threshold values:
```json
"THRESHOLDS": {
    "VERY_POOR": 150,
    "POOR": 100,
    "GOOD": 50,
    "EXCELLENT": 20
}
```

This affects:
- ADP_SCORING
- PLAYER_RATING_SCORING
- TEAM_QUALITY_SCORING
- PERFORMANCE_SCORING
- MATCHUP_SCORING

## New Parameterized System
Replace with 3 parameters that calculate thresholds:
```json
"THRESHOLDS": {
    "BASE_POSITION": <value>,
    "DIRECTION": "<INCREASING|DECREASING|BI_EXCELLENT_HI|BI_EXCELLENT_LOW>",
    "STEPS": <value>
}
```

### Direction Types

**INCREASING** - Higher values = better (e.g., player rating)
```
VERY_POOR = BASE_POSITION + STEPS
POOR = BASE_POSITION + (2 * STEPS)
GOOD = BASE_POSITION + (3 * STEPS)
EXCELLENT = BASE_POSITION + (4 * STEPS)
```

**DECREASING** - Lower values = better (e.g., ADP rank)
```
EXCELLENT = BASE_POSITION + STEPS
GOOD = BASE_POSITION + (2 * STEPS)
POOR = BASE_POSITION + (3 * STEPS)
VERY_POOR = BASE_POSITION + (4 * STEPS)
```

**BI_EXCELLENT_HI** - Bidirectional, positive deviation = excellent (e.g., performance)
```
VERY_POOR = BASE_POSITION - (STEPS * 1.5)
POOR = BASE_POSITION - (STEPS * 0.5)
GOOD = BASE_POSITION + (STEPS * 0.5)
EXCELLENT = BASE_POSITION + (STEPS * 1.5)
```

**BI_EXCELLENT_LOW** - Bidirectional, negative deviation = excellent (rare)
```
EXCELLENT = BASE_POSITION - (STEPS * 1.5)
GOOD = BASE_POSITION - (STEPS * 0.5)
POOR = BASE_POSITION + (STEPS * 0.5)
VERY_POOR = BASE_POSITION + (STEPS * 1.5)
```

## Recommended Parameter Values

**ADP_SCORING:**
- BASE_POSITION: 0
- DIRECTION: "DECREASING"
- STEPS: 30 (test range: 20-40)

**PLAYER_RATING_SCORING:**
- BASE_POSITION: 0
- DIRECTION: "INCREASING"
- STEPS: 20 (test range: 12-28)

**TEAM_QUALITY_SCORING:**
- BASE_POSITION: 0
- DIRECTION: "DECREASING"
- STEPS: 7 (test range: 4-10)

**PERFORMANCE_SCORING:**
- BASE_POSITION: 0.0
- DIRECTION: "BI_EXCELLENT_HI"
- STEPS: 0.1 (test range: 0.05-0.20)

**MATCHUP_SCORING:**
- BASE_POSITION: 0
- DIRECTION: "BI_EXCELLENT_HI"
- STEPS: 6 (test range: 4-12)

## Implementation Requirements

### ConfigManager Updates
1. Add `calculate_thresholds(base_pos, direction, steps)` method to calculate the 4 threshold values
2. Add `validate_threshold_params(base_pos, direction, steps)` method to validate parameters
3. Replace all hardcoded THRESHOLDS access with calculated values
4. Cache calculated thresholds to avoid repeated computation

### ConfigGenerator Updates
1. Define fixed BASE_POSITION and DIRECTION for each scoring type (as constants)
2. Define STEPS ranges for simulation testing (see recommended values above)
3. Replace individual threshold variation with STEPS-only variation
4. Generate configs by varying STEPS parameter while keeping BASE_POSITION and DIRECTION fixed

### Config File Migration
1. Convert `data/league_config.json` to new parameterized format
2. Convert all simulation configs in `simulation/simulation_configs/` to new format
3. Update test fixtures to use new format
