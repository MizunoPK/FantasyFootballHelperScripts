# Update: Derive Bye Week Data from Season Schedule

## Objective
Update the player-data-fetcher to derive bye week information from `season_schedule.csv` instead of reading from the now-deleted `bye_weeks.csv` file.

## Background
- The `bye_weeks.csv` file has been deleted from the project
- Bye week data can be derived from the season schedule (a team's bye week is the week they have no scheduled game)
- The `season_schedule.csv` file is generated by the schedule-data-fetcher and contains all NFL games for the season

## Requirements

### 1. Remove bye_weeks.csv Loading
- Remove the `_load_bye_weeks()` method from `player-data-fetcher/player_data_fetcher_main.py`
- Remove any references to `self.bye_weeks` that load from the CSV file
- Remove the related failing tests in `tests/player-data-fetcher/test_player_data_fetcher_main.py`

### 2. Add Season Schedule Dependency
- On initialization, check if `data/season_schedule.csv` exists
- If missing, raise an error with a clear message:
  ```
  Error: season_schedule.csv not found at {path}
  Please run the schedule-data-fetcher first to generate this file:
    python run_scores_fetcher.py
  ```
- The error should halt execution - this is a required dependency

### 3. Derive Bye Weeks from Schedule
- Load `season_schedule.csv` and parse the game schedule
- For each NFL team, find the week number (1-18) where they have no scheduled game
- Build the bye_weeks dictionary: `{team_abbrev: bye_week_number}`
- Example logic:
  ```python
  def _derive_bye_weeks_from_schedule(self, schedule_path: Path) -> Dict[str, int]:
      """
      Derive bye weeks by finding which week each team has no game scheduled.

      A team's bye week is the only week in the regular season (weeks 1-18)
      where they don't play.
      """
      # Load schedule
      # For each team, find weeks they play
      # Bye week = the missing week from 1-18
  ```

### 4. Update ESPN Client Integration
- The `espn_client.py` still receives `bye_weeks` dict via `client.bye_weeks = self.bye_weeks`
- This interface should remain unchanged - just the source of the data changes

### 5. Update Tests
- Remove tests for `_load_bye_weeks()` that test CSV loading
- Add tests for `_derive_bye_weeks_from_schedule()`:
  - Test correct bye week derivation from schedule data
  - Test error handling when season_schedule.csv is missing
  - Test handling of incomplete schedule data

### 6. Update Documentation
- Update any docstrings that reference bye_weeks.csv
- Update CLAUDE.md if it mentions bye_weeks.csv as a data file

## Files to Modify
- `player-data-fetcher/player_data_fetcher_main.py` - Main changes
- `tests/player-data-fetcher/test_player_data_fetcher_main.py` - Update tests
- `league_helper/LeagueHelperManager.py` - Remove bye_weeks.csv from docstring file list

## Expected Season Schedule Format
The `season_schedule.csv` contains columns:
```
week,team,opponent
1,ARI,NO
1,ATL,TB
...
```

Each row represents a team's game for that week. To find a team's bye week:
1. Get all weeks where the team appears in the `team` column
2. Find which week (1-18) is missing from that list
3. That missing week is the bye week

## Validation
- All 32 NFL teams should have exactly one bye week
- Bye weeks should be in valid range (typically weeks 5-14 for modern NFL)
- Log warning if a team has no identifiable bye week or multiple bye weeks
